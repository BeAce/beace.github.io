{"componentChunkName":"component---src-templates-blog-post-js","path":"/2017-11-22-浅谈CSS盒模型（CSS Box Model）/","webpackCompilationHash":"1893e940b14bce61c104","result":{"data":{"site":{"siteMetadata":{"title":"Beace Blog","author":"Beace Lee"}},"markdownRemark":{"id":"a42b3a93-59da-5adc-8122-392ef783225d","html":"<h2>概念</h2>\n<p>在一个html文档中，每个元素都被表示为一个<strong>矩形的</strong>的盒子。这每一个矩形的盒子被描述为<strong>盒模型(CSS Box Model)</strong>。并且这个模型描述了元素所占空间的内容。</p>\n<!--more-->\n<h2>组成</h2>\n<h3>正常情况</h3>\n<p>一般情况下，一个盒子是由以下部分组成</p>\n<p><em>width</em> = content-width + padding-left + padding-right + border-left-width + border-right-width</p>\n<p><em>height</em> = content-height + padding-top + padding-bottom + border-top-width + border-bottom-width</p>\n<p><em>margin</em> 指外边距，主要是为了分隔与当前元素之外的元素的距离。由于盒子之间共享外边距，有时会出现<strong>外边距合并/塌陷</strong>的情况。例如下面一段代码。</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.box</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 200px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 200px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> green<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 5px solid red<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 20px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 40px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.box2</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> 60px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>box1 的 bottom 距离 box2 的 top 并不会有 40px+60px=100px 的距离，而是有 60px 的距离。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>box box1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>https://beimg.oss-cn-beijing.aliyuncs.com/favicon.png!ace<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>box box2<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>https://beimg.oss-cn-beijing.aliyuncs.com/favicon.png!ace<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h3>box-sizing 下的计算</h3>\n<p><code class=\"language-text\">box-sizing</code>用于更改浏览器默认的盒模型计算方式。可谓是开发者编辑UI的福音。他解决了无数多关于占位、溢出、宽高计算、居中计算的问题。</p>\n<p>以下是他的两个关键属性：</p>\n<ul>\n<li>box-sizing: content-box; 默认值，盒子占有的实际大小与上述正常模式相同</li>\n<li>box-sizing: border-box; 除外边距外，盒子本身占有的实际大小包括边框、内边距、内容大小。</li>\n</ul>\n<h3>关于外边距塌陷（margin collapsing）</h3>\n<h4>几种表现形式，以下针对块级元素</h4>\n<ol>\n<li>\n<p>上下外边距不等</p>\n<p>当两个上下排列的盒子，bottom 和 top 分别具有 margin 时，会有外边距组合的情况出现，这种行为被称为<strong>外边距塌陷（margin collapsing）</strong>，而浏览器经过计算，最终会取两个盒子中较大的值。倘若含有负值，例如上面盒子为20px，下面为-20px，最终的表现则为 0。</p>\n</li>\n<li>\n<p>子元素的外边距在父元素中也有体现</p>\n<p>通俗来讲，是子元素中设置了margin 而父元素中没有除 margin 外若没有其他有关影响盒子宽高的描述，将会导致父元素在表层体现上也会具有margin。而且这两个合并成了一个。例如如下代码，父元素也会产生 margin 效果。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>box<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p><strong>这种情况的发生，往往在父元素和第一个子元素或者最后一个子元素之间</strong></p>\n</li>\n<li>\n<p>空元素的上下 margin 会合并</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token style-attr language-css\"><span class=\"token attr-name\"> <span class=\"token attr-name\">style</span></span><span class=\"token punctuation\">=\"</span><span class=\"token attr-value\"><span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> 20px<span class=\"token punctuation\">;</span> <span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span> 20px<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>上述代码中，该空元素与上下间隔为 20px。</p>\n</li>\n</ol>\n<h2>总结</h2>\n<p>以上，都在说一种现象。所谓的CSS布局，看似有很多漏洞和不足，其实，都是编码的周全考虑。这样的计算方式看似不合理，实际上，对浏览器而言，根据这些规则绘制UI是非常友好的。总之，不要把自己想当然的东西作为一种常识记在心中，总有些不同角度的合理解释，这才是代码。</p>\n<h4>参考整理自</h4>\n<blockquote>\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Box_Model/Introduction_to_the_CSS_box_model\">https://developer.mozilla.org/en-US/docs/Web/CSS/CSS<em>Box</em>Model/Introduction<em>to</em>the<em>CSS</em>box_model</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Box_Model/Mastering_margin_collapsing\">https://developer.mozilla.org/en-US/docs/Web/CSS/CSS<em>Box</em>Model/Mastering<em>margin</em>collapsing</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing\">https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing</a></li>\n</ul>\n</blockquote>","frontmatter":{"title":"浅谈CSS盒模型（CSS Box Model）","date":"November 22, 2017"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2017-11-22-浅谈CSS盒模型（CSS Box Model）/","previous":{"fields":{"slug":"/2017-10-10-Cascader Format/"},"frontmatter":{"title":"Cascader Format"}},"next":{"fields":{"slug":"/2017-12-29-关于小程序视频（video）的一些总结/"},"frontmatter":{"title":"关于小程序视频（video）的一些总结"}}}}}