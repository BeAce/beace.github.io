{"data":{"site":{"siteMetadata":{"title":"Beace Blog","author":"Beace Lee"}},"markdownRemark":{"id":"d81a85bd-f461-5310-b3ef-637a695879cc","html":"<p>直接在代码中添加：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>NavLink</span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Home<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>NavLink</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>这时候<code class=\"language-text\">home</code>标签会一直高亮显示，即一直处于<code class=\"language-text\">active</code>状态不回改变，即使切换路由，如下图所示：</p>\n<p><img src=\"/static/upload/201609/wtXbg2WD11XXwavjIrXKLaxs.png\" alt=\"alt\"></p>\n<p>[x] 官方给出的原因时这样的：</p>\n<!--more-->\n<blockquote>\n<p>Now navigate around. Notice anything weird? The link to Home is always active! As we learned earlier, parent routes are active when child routes are active. Unfortunately, / is the parent of everything.</p>\n</blockquote>\n<blockquote>\n<p>For this link, we want it to only be active when the index route is active. There are two ways to let the router know you’re linking to the “index route” so it only adds the active class (or styles) when the index route is rendered.</p>\n</blockquote>\n<h4>这两段话表明，<code class=\"language-text\">／</code>是所有路由的父亲。</h4>\n<h4>解决方案1:</h4>\n<p>因此，需要如下代码（解决方案）：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// App.js</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> IndexLink <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router'</span>\n\n<span class=\"token comment\">// ...</span></code></pre></div>\n<li><IndexLink to=\"/\" activeClassName=\"active\">Home</IndexLink></li>\n<p>来指定这就是首页，如下图可以看到这样直有在首页被点击的时候会有active状态：</p>\n<p><img src=\"/static/upload/201609/t-nyCYKN9zSaWAyqfrtw07Jy.png\" alt=\"alt\"></p>\n<h4>解决方案2：</h4>\n<p>还是那句话，如果我非要使用我封装好的<code class=\"language-text\">link</code>（我这里为<code class=\"language-text\">&lt;NavLink/&gt;</code>），使用方法如下，在<code class=\"language-text\">component</code>中添加一个属性</p>\n<p><code class=\"language-text\">onlyActiveOnIndex={true}</code>\n这样就会发现，<code class=\"language-text\">home</code>中的路由只有在点击之后出现相应<code class=\"language-text\">activeclass</code>高亮，效果如下图所示：</p>\n<p>点击<code class=\"language-text\">HOME</code>,两个都高亮</p>\n<p><img src=\"/static/upload/201609/avX_sX_aTEf18iCm4XlhN3KH.png\" alt=\"alt\"></p>\n<p>点击<code class=\"language-text\">About</code>只有<code class=\"language-text\">About</code>高亮</p>\n<p><img src=\"/static/upload/201609/PEZOSDpT6peUT_loNZhmKe0t.png\" alt=\"alt\"></p>\n<h3>summary</h3>\n<p>个人感觉还是方案1比较合适，因为可以直接在标签上区别<code class=\"language-text\">Index/Home</code>(首页)还是其他页面，并且不需要额外添加其他属性！</p>","frontmatter":{"title":"React IndexRoute always active","date":"September 10, 2016"}}},"pageContext":{"slug":"/React-IndexRoute always-active/","previous":{"fields":{"slug":"/display-inline/"},"frontmatter":{"title":"display:inline-block不对齐问题"}},"next":{"fields":{"slug":"/lab/"},"frontmatter":{"title":"实验室"}}}}